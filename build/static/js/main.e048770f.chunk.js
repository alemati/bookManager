(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{55:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(8),a=n.n(c),i=n(7),u=n(2),o=n.n(u),s=n(4),l=n(9),f=n.n(l),d="/api/books",O=function(){return f.a.get(d).then((function(t){return t.data}))},j=function(t){return f.a.post(d,t).then((function(t){return t.data}))},p=function(t,e){return f.a.put("".concat(d,"/").concat(t),e).then((function(t){return t.data}))},b=function(t){return f.a.delete("".concat(d,"/").concat(t)).then((function(t){return t.data}))},h=function(t){return function(){var e=Object(s.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"SET_NOTIFICATION",data:{content:t}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return function(){var t=Object(s.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLOSE_NOTIFICATION"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_NOTIFICATION":return e.data;case"CLOSE_NOTIFICATION":return null}return t},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_NEW_BOOK":return t.concat(e.data);case"INIT_BOOKS":return e.data;case"REMOVE_BOOK":var n=t.filter((function(t){return t.id!==e.data}));return n;case"UPDATE_BOOK":return t.map((function(t){return t.id!==e.data.id?t:e.data}))}return t},E={title:"",author:"",description:""},w=function(t){return function(){var e=Object(s.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"SET_FORM",data:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var t=Object(s.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_FORM"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_FORM":return e.data;case"CLEAR_FORM":return E}return t},k=function(){return function(){var t=Object(s.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_SELECTED_BOOK"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_SELECTED_BOOK":return e.data;case"CLEAR_SELECTED_BOOK":return null}return t},_=n(3),C=n(1),g=function(){var t=Object(_.b)(),e=Object(_.c)((function(t){return t.form})),n=Object(_.c)((function(t){return t.selectedBook})),r=function(n){if(n.preventDefault(),""===e.title||""===e.author||""===e.description)console.log("Please fill all the inputs"),t(h("Please fill all the inputs")),setTimeout((function(){t(v())}),3e3);else{var r={title:e.title,author:e.author,description:e.description};t((c=r,function(){var t=Object(s.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j(c);case 3:n=t.sent,e({type:"CREATE_NEW_BOOK",data:n}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),e(h("Given input was way to long. Maximum length is 100 characters")),setTimeout((function(){e(v())}),3e3),console.log("error caught in bookReducer",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),t(y())}var c},c=function(){var e;t((e=n.id,function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:n({type:"REMOVE_BOOK",data:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),t(k()),t(y())},a=function(){if(""===e.title||""===e.author||""===e.description)console.log("Please fill all the inputs"),t(h("Please fill all the inputs")),setTimeout((function(){t(v())}),3e3);else{var r={id:n.id,title:e.title,author:e.author,description:e.description};t((c=r,a=n.id,function(){var t=Object(s.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(a,c);case 2:n=t.sent,e({type:"UPDATE_BOOK",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),t(k()),t(y())}var c,a};return Object(C.jsxs)("div",{children:[Object(C.jsxs)("form",{children:["Title: ",Object(C.jsx)("br",{}),Object(C.jsx)("input",{size:"41",type:"text",value:e.title,onChange:function(n){return function(n){t(w(Object(i.a)(Object(i.a)({},e),{},{title:n.target.value})))}(n)}}),Object(C.jsx)("br",{}),"Author: ",Object(C.jsx)("br",{}),Object(C.jsx)("input",{size:"41",type:"text",value:e.author,onChange:function(n){return function(n){t(w(Object(i.a)(Object(i.a)({},e),{},{author:n.target.value})))}(n)}}),Object(C.jsx)("br",{}),"Description: ",Object(C.jsx)("br",{}),Object(C.jsx)("textarea",{cols:35,rows:5,value:e.description,onChange:function(n){return function(n){t(w(Object(i.a)(Object(i.a)({},e),{},{description:n.target.value})))}(n)}}),Object(C.jsx)("br",{})]}),Object(C.jsx)("div",{children:null===n?Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{className:"button",onClick:function(t){return r(t)},children:"Save New"}),Object(C.jsx)("button",{className:"disabledButton",children:"Save"}),Object(C.jsx)("button",{className:"disabledButton",children:"Delete"})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{className:"button",onClick:function(t){return r(t)},children:"Save New"}),Object(C.jsx)("button",{className:"button",onClick:function(){return a()},children:"Save"}),Object(C.jsx)("button",{className:"deleteButton",onClick:function(){return c()},children:"Delete"})]})})]})},I=function(t){var e,n=t.book,r=Object(_.c)((function(t){return t.selectedBook})),c=Object(_.b)();if(null===r)e="listItem";else{var a=r.id===n.id;e=a?"selectedItem":"listItem"}var i=function(){var t;null===r||r.id!==n.id?(c((t=n,function(){var e=Object(s.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"SET_SELECTED_BOOK",data:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(w({title:n.title,author:n.author,description:n.description}))):(c(k()),c(y()),e="listItem")};return Object(C.jsxs)("div",{className:e,onClick:function(){return i()},children:[n.title," ",Object(C.jsx)("br",{}),"by ",n.author]})},B=function(){var t=Object(_.c)((function(t){return t.books}));return Object(C.jsxs)("div",{children:["All books: ",Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"allBooks",children:t.map((function(t){return Object(C.jsx)(I,{book:t},t.id)}))})]})},S=function(){var t=Object(_.c)((function(t){return t.notification}));return null===t?null:Object(C.jsx)("div",{className:"notification",children:Object(C.jsxs)("p",{className:"notificationText",children:[" ",t.content," "]})})},A=function(){var t=Object(_.b)();return Object(r.useEffect)((function(){t(function(){var t=Object(s.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:n=t.sent,e({type:"INIT_BOOKS",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsxs)("div",{className:"column",children:[Object(C.jsx)(g,{}),Object(C.jsx)(S,{})]}),Object(C.jsx)("div",{className:"column",children:Object(C.jsx)(B,{})})]})})},R=n(6),K=n(23),D=n(24),L=Object(R.combineReducers)({books:m,selectedBook:N,form:T,notification:x}),F=Object(R.createStore)(L,Object(D.composeWithDevTools)(Object(R.applyMiddleware)(K.a)));n(55);a.a.render(Object(C.jsx)(_.a,{store:F,children:Object(C.jsx)(A,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.e048770f.chunk.js.map